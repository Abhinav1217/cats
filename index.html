<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <title>JSEdit | TypeScript Editor</title>
    <link href='http://fonts.googleapis.com/css?family=Inconsolata' rel='stylesheet' type='text/css'>
    <link rel="stylesheet" href="./cm/codemirror.css">
    <link rel="stylesheet" href="./cm/util/simple-hint.css">
    <script src="./cm/codemirror.js"></script>
    <script src="./cm/javascript.js"></script>    
    <script src="./lib/typescript-hint.js"></script> 
    <script src="./cm/util/simple-hint.js"></script>
    <script src="./cm/mode/javascript/javascript.js"></script>
    <!-- link rel="stylesheet" href="../../doc/docs.css" --> 
    <style type="text/css">.CodeMirror {border-top: 1px solid black; border-bottom: 1px solid black;}</style>
  </head>
  <body>
    <h1>TypeScript Editor</h1>

<div>
<textarea id="code" name="code">
class Greeter {
  greeting: string;
  constructor (message: string) {
    this.greeting = message;
  }
  greet() {
    return "Hello, " + this.greeting;
  }
}   

var greeter = new Greeter("world");

var button = document.createElement('button')
button.innerText = "Say Hello"
button.onclick = function() {
  alert(greeter.greet())
}

document.body.appendChild(button)

</textarea>
</div>

     <script>
      var tsh = new TypeScriptHint();
      
      // Lets add some declaration files that should always be included.
      tsh.addFile("./src/typescript/typings/lib.d.ts");
      var autoComplete = tsh.autoComplete.bind(tsh);

      CodeMirror.commands.autocomplete = function(cm) {
        CodeMirror.simpleHint(cm, autoComplete);
      }

      var editor = CodeMirror.fromTextArea(document.getElementById("code"), {
        lineNumbers: true,
        extraKeys: {"Ctrl-Space": "autocomplete"},
        matchBrackets: true,
        mode: "text/typescript"
      });
    </script>

  </body>
</html>
